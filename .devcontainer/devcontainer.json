//devcontainer.json
{
    "name": "Zephyr Dev Environment for ST32F411",
    "image": "zephyrprojectrtos/zephyr-build:v0.26.18", // see https://github.com/zephyrproject-rtos/docker-image/tree/v0.28.6
    "postStartCommand": "/bin/bash",

    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.cpptools",
                "ms-vscode.cmake-tools",
                "twxs.cmake",
                "ms-python.python",
                "mcu-debug.debug-tracker-vscode",
                "mcu-debug.memory-view",
                "mcu-debug.rtos-views",
                "mcu-debug.peripheral-viewer",
                "marus25.cortex-debug"
            ],
            "settings": {
                "terminal.integrated.profiles.linux": {
                    "bash": {
                        "path": "bash",
                        "icon": "terminal-bash"
                    }
                }
            }
        }
    },

    "remoteUser": "user",

    "runArgs": [
        "--add-host=host.docker.internal:host-gateway",
        "--rm"
    ]
}
  